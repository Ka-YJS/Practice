# SQL함수

1. 모든 프로그래밍 언어에서 함수가 있는 것처럼 SQL에서도 함수가 존재함
2. 함수를 쓸 때는 항상 조심해야 함
3. 경우에 따라 성능이 좋아질 수도 있지만 나빠질 수도 있음
4. 내장함수
    - 단일행 함수 : 1개의 행값이 함수에 적용되어 1개의 행을 반환
    - 집계 함수 : 1개 이상의 행의 값이 함수에 적용되어 1개의 값을 반환함
    - 종류 : 제어흐름함수, 문자열함수, 숫자형함수, 날짜 및 시간함수, 시스템정보함수

## 제어흐름함수

1. 제어흐름함수는 프로그램의 흐름을 제어하는 함수임
2. 종류
    - IF함수 : 수식과 참일 때 반환할 값과 거짓일 때 반환할 값을 입력하면, 수식의 진리값에 따른 값이 반환됨
    - CASE함수 : 수식(조건)을 여러개 사용할 수 있는 함수
    - IFNULL함수 : 수식1이 NULL이면 수식2를 반환하고, 그렇지않으면 수식1을 반환함
    - ISNULL함수 : IFNULL함수와 동일한 동작
    - NVL함수 : IFNULL함수와 동일한 동작
    - NVL2함수 : 첫번째 매개변수가 NULL이 아니면 두번째 매개변수 출력, NULL이면 세번째 매개변수 출력
    - COALESCE함수 : 매개변수 중 NULL이 아닌 최초의 매개변수 출력
    - NULLIF함수 : 첫번째 값과 두번째 값을 비교해서 같으면 NULL을 반환, 거짓이면 첫번재 값을 반환함(잘 사용되지않음)

## 문자열 함수

1. 문자열을 조작하는 함수
2. 종류
    - ASCII함수 : 문자의 아스키 코드 값을 반환
    - CHAR함수 : 아스키 코드 값에 해당하는 문자를 반환
    - BIT_LENGTH함수 : 문자열에 할당된 비트 크기 반환
    - CHAR_LENGTH함수 : 문자의 개수 반환
    - LENGTH함수 : 할당된 바이트 크기 반환(비트와는 다름)
    - **CONCAT함수 : 문자열을 이을 때 사용**
    - **CONCAT_WS함수 : 구분자와 함께 문자열을 이을 때 사용**
    - ELT함수 : 인자로 주어진 순서의 문자를 반환함
    - FIELD함수 : 찾을 문자열의 위치를 찾아서 있으면 위치를 반환하고, 없으면 0을 반환함
    - FIND_IN_SET함수 : 찾을 문자열을 문자열 리스트(쉼표로 구분, 공백X)에서 찾아서 위치를 반환함
    - INSTR함수 : 기존 문자열에서 부분 문자열을 찾아서 그 시작위치를 반환함
    - LOCATE함수 : INSTR과 동일하지만 매개변수의 순서가 반대로 되어있음
    - POSITION함수 : LOACATE와 동일하지만, 쉼표가 아닌 in으로 표현함
    - **FORMAT함수 : 숫자를 소수점 아래 자릿수까지 표현하며, 1000단위마다 쉼표로 표시됨**
    - BIN함수 : 2진수를 반환함, 숫자만 입력가능
    - HEX함수 : 16진수를 반환함, 숫자만 입력가능
    - OCT함수 : 8진수를 반환함, 숫자만 입력가능
    - **INSERT함수 : 기존 문자열의 위치부터 길이만큼 삽입 할 문자열로 변경**
    - LEFT함수 : 문자열의 왼쪽부터 길이만큼 반환
    - RIGHT함수 : 문자열의 오른쪽부터 길이만큼 반환
    - LCASE함수 : 대문자를 소문자로 변경한 후 반환, LOWER함수와 동일함
    - UCASE함수 : 소문자를 대문자로 변경한 후 반환, UPPER함수와 동일함
    - LPAD함수 : 문자열을 길이만큼 왼쪽에서 늘릴 후에 빈 곳을 채울 문자열로 채움
    - RPAD함수 : 문자열을 길이만큼 오른쪽에서 늘릴 후에 빈 곳을 채울 문자열로 채움
    - LTRIM함수 : 문자열의 왼쪽공백이나 특정 문자열을 제거
    - RTRIM함수 : 문자열의 오른쪽공백이나 특정 문자열을 제거
    - TRIM함수 : 문자열의 양쪽공백이나 특정 문자열을 제거
    - TRIM FROM함수 : 문자열의 앞 또는 뒤 또는 양쪽에서 원하는 문자열을 자름
    - REPEAT함수 : 문자열을 횟수만큼 반복
    - REPLACE함수 : 문자열에 원래 문자열을 찾고 바꿀 문자열로 변경
    - REVERSE함수 : 문자열을 거꾸로 변경
    - **SPACE함수 : 공백을 반환하는 함수**
    - **SUBSTRING함수 : 시작 위치부터 길이만큼 문자를 반환**
    - **SUBSTRING_INDEX함수 : 문자열 시작부터 구분자가 횟수만큼 나오면 그 이후는 버림**

## 수학함수

1. 수학적인 계산을 하는 함수
2. 종류
    - **ABS함수 : 숫자의 절댓값을 반환함**
    - CEILING함수 : 소수의 올림을 반환
    - FLOOR함수 : 소수의 내림을 반환
    - **ROUND함수 : 소수의 반올림한 숫자를 반환**
    - MOD함수 : 숫자1을 숫자2로 나눈 나머지 값을 반환
    - POW함수 : 숫자1에 숫자2를 제곱한 값을 반환
    - **SQRT함수 : 숫자의 제곱근 값을 반환**
    - RAND함수 : 0이상 1미만의 무작위 실수 값을 반환
    - **RAND함수+FLOOR함수 : 원하는 범위까지의 수를 무작위로 반환**
    - SIGN함수 : 숫자가 양수면 1, 음수면 -1를 반환, 0이면 0을 반환
    - TRUNCATE함수 : 소수점을 기준으로 정수위치까지 구하고, 나머지를 버림
    - CONV함수 : 기존 진수의 숫자를 변환할 진수로 계산 후 반환
    - DEGREES함수 : 라이단 값을 각도 값으로 변환
    - RADIANS함수 : 각도 값을 라디안 값으로 변환

## 날짜 및 시간함수

1. 날짜 혹은 시간을 보여주거나 계산하는 함수
2. 종류
    - ADDDATE함수 : 날짜를 기준으로 차이를 더한 날짜를 반환
    - DATE_ADD함수 : ADDDATE함수와 동일
    - SUBDATE함수 : 날짜를 기준으로 차이를 뺀 날짜를 반환
    - DATE_SUB함수 : SUBDATE함수와 동일
    - ADDTIME함수 : 날짜/시간을 기준으로 시간을 더한 결과를 반환
    - SUBTIME함수 : 날짜/시간을 기준으로 시간을 뺀 결과를 반환
    - **CURDATE함수 : 현재 연-월-일 반환**
    - **CURTIME함수 : 현재 시:분:초 반환**
    - **NOW함수 : 현재 '연-월-일- 시:분:초'를 반환**
    - **SYSDATE함수 : NOW함수와 동일**
    - YEAR함수 : 특정 날짜나 시간에 대한 연도 값을 반환
    - MONTH/DAYOFMONTH/HOUR/MINUTE/SECOND/MICROSECOND함수 : YEAR함수와 동일하게 월, 일, 시, 분, 초, 밀리 초를 반환
    - DATE함수 : 특정 날짜에 연-월-일을 반환
    - TIME함수 : 특정 날짜에 시:분:초를 반환
    - DATEDIFF함수 : 두번째 날짜값에서 첫번째 날짜값까지 며칠 남았는지 반환
    - TIMEDIFF함수 : 두번째 시간값에서 첫번째 시간값까지 몇시간 남았는지 반환
    - DAYOFWEEK함수 : 요일을 반환(숫자값으로 일:1, 월:2, ..., 토:7)
    - DAYOFYEAR함수 : 1년 중 며칠이 지났는지 반환
    - MONTHNAME함수 : 해당 월의 영어이름을 반환
    - LAST_DAY함수 : 주어진 월의 마지막 날을 반환
    - TIME_TO_SEC함수 : 시간을 초 단위로 반환

## 시스템 정보함수

1. 시스템상에서 표시되는 함수
2. 종류
    - **USER함수 : 현재 사용자를 'root@localhost'형식으로 반환**
    - CURRENT_USER, SESSION_USER함수 : USER함수와 동일
    - **DATABASE함수 : 현재 선택된 데이터베이스를 반환**
    - **SCHEMA함수 : DATABASE함수와 동일**
    - FOUND_ROWS함수 : 제일 최근에 했던 SELECT문의 조회 행 개수를 반환
    - ROW_COUNT함수 : 제일 최근에 했던 INSERT/UPDATE/DELETE문에서 실행했던 행의 개수를 반환, SELECT문은 -1을 반환, CREATE/DROP문은 0을 반환
    - VERSION함수 : 현재 MySQL의 버전을 반환
    - **SLEEP함수 : 쿼리의 실행을 입력 받은 초 동안 정지**

# WINDOW 함수

1. 

# SQL연산자

1. BETWEEN : A와 B사이의 값을 조회할 때 사용
2. IN : OR을 대신해서 사용하는 연산자(~이 아닌 이라는 키워드에는 NOT IN을 사용하면 됨)
3. LIKE : 유사검색
    - 쿼리문의 WHERE절에서 주로 사용되며 부분적으로 일치하는 속성을 찾을 때 사용 됨
    - 컬럼에 저장된 문자열 중에서 LIKE 연산자에서 지정한 문자 패턴과 부분적으로 일치하면
    참이되는 연산자
    - % : 모든값
    - _ : 하나의 값
4. 예시 : 
    - 'M%' : M으로 시작하는 모든 데이터
    - '%a' : a로 끝나는 모든 데이터
    - '%a%' : 값의 어디든 a를 포함하고 있는 모든 데이터
    - 'a_' : a로 시작하는 두글자 짜리 데이터
    - '_a_' : a를 두번째 글자로 갖는 세글자짜리 데이터
    - '__a' : a로 끝나는 세글자짜리 데이터
    - '%M%I% : M과 I를 포함하고 있는 데이터
    - 'M____' : M으로 시작하는 값들 중 전체 길이가 5글자인 데이터
5. SELECT ~ FROM ~ WHERE ~ LIKE ' ';
6. 언더바 문자 자체를 조회하고 싶으면 이스케이프 문자를 사용해야 함 (ex. '%\_%';)

