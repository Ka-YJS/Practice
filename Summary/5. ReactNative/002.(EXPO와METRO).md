# Expo

1. **Expo(엑스포)**는 리액트 네이티브로 모바일 앱을 더 쉽게 만들고 테스트할 수 있도록 도와주는 도구임
2. 보통 리액트 네이티브로 앱을 개발할 때는 여러 가지 복잡한 설정을 해야 하지만, Expo를 사용하면 이 과정을 훨씬 간단하게 만들 수 있음
3. 초보 개발자도 빠르게 앱을 만들어보고 실행해 볼 수 있어서 많이 사용됨

## Expo의 주요 특징

1. 간편한 설치와 시작
    - Expo를 사용하면 리액트 네이티브 프로젝트를 쉽게 시작할 수 있음
    - 별도의 복잡한 환경 설정이 필요하지 않아 빠르게 앱을 만들고 실행할 수 있음
2. 에뮬레이터 없이 실제 기기에서 테스트 가능
    - Expo는 스마트폰에 설치할 수 있는 Expo Go 앱을 제공함
    - 이 앱을 통해 개발 중인 리액트 네이티브 앱을 바로 스마트폰에서 테스트할 수 있음
    - 컴퓨터에서 앱 코드를 작성하고 Expo를 통해 QR 코드를 스캔하면, 스마트폰에서 개발 중인 앱이 즉시 실행됨
3. 미리 만들어진 기능들
    - Expo는 카메라, 위치 정보, 센서와 같은 스마트폰의 여러 기능을 쉽게 사용할 수 있는 코드를 제공함
    - 예를 들어, "카메라 기능을 앱에 추가하고 싶다"라고 할 때, Expo에서 제공하는 카메라 기능 코드를 사용하면 별다른 추가 설정 없이 앱에서 카메라 기능을 사용할 수 있음
4. 자동 업데이트 : 앱에 변경 사항이 생기면 Expo가 자동으로 반영해 주기 때문에, 개발자는 컴퓨터에서 코드를 수정한 후 즉시 변경된 내용을 스마트폰에서 확인할 수 있음

### Expo의 주요 단점

1. 사용할 수 있는 기능에 제한이 있음
    - Expo는 카메라, 위치 정보, 센서 같은 일반적인 기능을 쉽게 추가할 수 있는 도구를 제공하지만, 더 복잡하거나 특수한 기능을 추가하는 데는 제한이 있음
    - 예를 들어, 앱에서 특별한 블루투스 기능이나 맞춤 설정한 네이티브 기능을 추가해야 하는 경우, Expo에서는 이런 기능을 직접 구현하기 어려움
2. 앱 용량이 커질 수 있음
    - Expo는 다양한 기능을 미리 포함하고 있어서, 개발자가 특정 기능을 사용하지 않아도 앱에 여러 기능이 포함됨
    - 그 결과로 앱의 용량이 커질 수 있음 -> 앱 크기가 커지면 사용자 입장에서 설치할 때 더 많은 저장 공간을 차지하게 되어 불편할 수 있음
3. 네이티브 코드 수정 불가능
    - Expo에서는 네이티브 코드(안드로이드의 Java/Kotlin 코드나 iOS의 Swift/Objective-C 코드)를 직접 수정할 수 없음
    - 네이티브 코드를 수정해야 할 때는 Expo를 사용하는 대신 리액트 네이티브 CLI로 직접 프로젝트를 생성해야 함
    - 네이티브 코드 수정을 통해 맞춤형 기능을 추가하려는 경우, Expo는 적합하지 않음
4. 앱 빌드와 배포에 제한 사항이 있음
    - Expo는 앱을 빌드하고 배포하는 과정도 쉽게 해주지만, Expo에서 제공하는 방식 외에 다른 방식을 적용하기 어려움
    - 앱을 구글 플레이스토어나 애플 앱스토어에 올릴 때 Expo만의 방식으로 배포하게 되며, 앱 출시 후에도 Expo의 규칙에 따라 빌드와 업데이트를 관리해야 함
5. Eject 필요
    - 만약 Expo에서 지원하지 않는 특정 기능이 필요해져서 네이티브 코드를 추가해야 할 때, "Eject"라는 과정을 거쳐 Expo를 벗어나야 함
    - Eject는 말 그대로 Expo에서 나와 리액트 네이티브 CLI로 프로젝트를 전환하는 것인데, 이를 수행하면 Expo의 편리한 기능들을 더 이상 사용할 수 없게 됨
    - Expo를 떠난 이후에는 모든 설정을 직접 해야 하므로, 처음부터 리액트 네이티브 CLI로 프로젝트를 시작하는 것과 비슷해짐

## Expo를 이용하여 리액트 네이티브 프로젝젝트 생성하기

1. Expo는 리액트 네이티브를 처음 시작하는 사람도 접근하기 편하게 되어있으며 최종적으로 완성된 프로젝트를 쉽게 배포 및 관리할 수 있도록 다양한 기능을 제공함
2. 아이폰과 안드로이드 폰이 있으면 Xcode, 안드로이드 스튜디오 없이도 해당 플랫폼의 테스트를 진행하며 개발할 수 있음
3. 리액트 네이티브 웹을 지원하며 iOS, 안드로이드뿐만 아니라 웹도 함께 개발할 수 있음
4. 리액트 네이티브 프로젝트를 생성하는 방법에는 두 가지가 있음 -> Expo, 리액트 네이티브 CLI
Expo를 이용하려면 npm을 이용해 expo-cli를 설치해야 함
5. 터미널 또는 명령 프롬프트에서 다음 명령어로 expo-cli를 설치함

## Expo CLI

### Expo CLI 설치

1. 컴퓨터의 명령어 도구에서 아래 명령어를 입력하여 Expo CLI(명령어 도구)를 설치함
```
npm install -g expo-cli
```
2. 설치가 완료되면 다음 명령어로 Expo 프로젝트를 생성함
```
expo init my-first-expo
```
3. Expo 프로젝트를 생성하는 명령어를 입력하면 다음과 같은 화면이 나오면서 어떤 프로젝트를 생성할지 선택지를 제공함
4. 이 책에서는 항상 첫 번째 선택지인 blank를 선택
5. Expo 프로젝트 실행 -> 프로젝트 생성이 완료되면 생성된 프로젝트 폴더로 이동해서 프로젝트를 실행함
```
cd my-first-expo
npm expo start
```
<br>-> 안될 때는 npx react-native doctor로 증상확인

6. 내보내기
    - Expo 프로젝트의 장점을 수용하기 위해 Expo 프로젝트로 시작했지만, 프로젝트의 상황에 따라 네이티브 모듈을 건드리거나 기타 다른 이유 때문에 CLI 프로젝트로 변경해야 하는 상황이 발생할 수 있음
    - 이 경우 eject 명령어를 이용하면 해결할 수 있음
    - eject 명령어를 실행하면 Expo프로젝트가 감추고 있던 것들이 드러나며, 리액트 네이티브 CLI 프로젝트로 시작한 것처럼 프로젝트가 변경되고 Expo 프로젝트에 있던 제약들도 없어짐
    - 하지만 다시 Expo 프로젝트로 돌아올 수 없음
7. 리액트 네이티브 CLI
    - 리액트 CLI의 장점은 Expo의 단점이라고 볼 수 있음
    - 즉 Expo와 반대로 리액트 네이티브 CLI에서는 필요한 기능이 있을 경우 모듈을 직접 만들어서 사용할 수 있음
    - 하지만 Expo에 비해 배포가 불편하고 리액트 네이티브를 처음 다루는 이용자에게 더 어렵게 느껴질 수 있음
8. 프로젝트 생성 : 노드 최신버전을 설치한 후 다음의 명령어로 실행함
```
npx @react-native-community/cli init MyFirstCLI
```

## Metro

1. Metro란?
    - Metro는 React Native 개발 환경에서 중요한 역할을 하는 번들러임
    - 쉽게 말해, Metro는 리액트 네이티브 앱을 개발할 때 필요한 코드를 모아서 하나로 묶어주는 도구라고 할 수 있음
2. 번들러는 무엇일까?
    - 번들러는 여러 파일로 나뉘어 있는 코드들을 모아 하나의 파일이나 작은 묶음으로 만들어주는 역할을 함
    - 이 과정은 웹브라우저나 모바일 앱에서 코드를 더 쉽게 읽고, 빠르게 실행할 수 있도록 도움
    <br>-> 여러 개의 코드 파일을 계속 불러오면 앱이 느려질 수 있는데, 번들링을 하면 한 번에 필요한 코드를 가져와서 로딩 속도가 빨라지는 것임

3. Metro의 역할
    - 코드를 읽고 묶음으로 만들기
    - Metro는 개발자가 작성한 코드와 앱에서 필요한 외부 라이브러리(자바스크립트 코드들)를 모아서 하나의 묶음으로 만듦 -> 이 덕분에 앱이 빨리 실행될 수 있음
4. 앱을 빠르게 업데이트
    - Metro는 코드를 실시간으로 감시하면서, 개발자가 코드를 수정하면 바로 반영할 수 있도록 도움
    - 이 기능을 핫 리로딩 또는 패스트 리프레시라고 부름
    <br>->덕분에 앱을 처음부터 다시 실행하지 않아도, 수정된 부분만 바로 반영돼 빠르게 확인할 수 있음

5. 코드 최적화 : Metro는 앱이 더 효율적으로 작동할 수 있도록, 코드에서 불필요한 부분을 제거하고 필요한 코드만 남겨둠
6. Metro와 리액트 네이티브의 관계
    - 리액트 네이티브 앱을 처음 실행하면, Metro가 자동으로 실행되면서 앱에 필요한 자바스크립트 파일들을 준비해줌
    - 앱이 실행 중일 때 Metro가 계속 코드를 확인해 수정된 부분을 반영해 주기 때문에, 개발자는 더 편리하게 코드를 실시간으로 수정하면서 결과를 볼 수 있음